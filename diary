this is diary for project.
should not push to repository


実装する機能
・フロントエンド
ログイン
商品検索
商品一覧
商品詳細
お買い物かご
決済
通知
プロファイル
評価
お気に入り


・バックエンド（マイクロサービス：サービス単位で記載）
認証・認可サービス（DB:ユーザー）
商品管理（DB:商品の管理）
決済（DB:なし、StripeAPIとの接続後、商品管理とメール、配送、お買い物かごにイベント通知）
通知（DB:通知保管、操作後にメールにイベント通知）
メール（主に決済のイベントから、もしくは通知から）
配送（？）
お買い物かご（DB：候補商品）
お気に入り（DB：お気に入り）


・実装未定（無理かも）
？？？
おすすめ
広告
割引表示


・開発環境
VSCodeもしくはその他IDE
任意のDB、ログについてはMongo予定。そのほかは標準的なRDB
各サービスはローカルでDockerComposeもしくはMinikubeで動かす
CICDパイプラインの実装によるテスト自動化（デプロイ先は予定していない）



5/31
認証サービスの環境構築
簡易的な認証サービすの設計
DBの設計⇨ユーザー管理のためのテーブルのみを設計

枠から作成
DBコネクションとルータとなるマルチプレクサ作成
上記の双方をサーバに登録、サーバ起動
CRUDはDBに移譲
各APIの呼び方だけを知っている状態を確率したい

6/2
認証APIのほぼ完成を目指す
ミドルウェアの設定でハマる、フレームワークないとなかなかむずい
ラップがしょーみわからん、Compositionというみたいだが
Middlewareという関数シグネチャを命名することでHttp.Handlerを受け取ってHttp.Hanlderを返す関数を定義できる
ループないでどんどんラップ指定って最後にMuxをもらってHttp.Handlerを返す関数を返せば
CreateMiddleware(xs ...Middleware) http.Handlerみたいなかんじにできる
DokcerFIleの書き方⇨From,MKDIR、COPY、CMD

＊タスク
・ログイン実装
・JWTトークン作成機能
・JWTトークン認証機能
・リフレッシュトークン機能





